<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Schnittstellen Turnierprogramme :: Tanzsport Deutschland · ESV</title>
    <link rel="canonical" href="https://tanzsport.github.io/esv-interfaces/api/2.0.0-wip/api-scrutiny/index.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://tanzsport.github.io/esv-interfaces">Tanzsport Deutschland · ESV</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="api" data-version="2.0.0-wip">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">API</a></h3>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Turnierprogramme</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#_einleitung">Einleitung</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#_schnittstellen">Schnittstellen</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#_anhang">Anhang</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../api-external/index.html">Externe Systeme</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../api-external/index.html#_änderungshistorie">Einleitung</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../api-external/index.html#_schnittstellen">Schnittstellen</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../api-dtv/index.html">DTV</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../api-dtv/index.html#_webseite">Webseite</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../api-dtv/index.html#_tanzspiegel">Tanzspiegel</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">API</span>
    <span class="version">2.0.0-wip</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">API</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">2.0.0-wip</a>
        </li>
        <li class="version">
          <a href="../../1.6.2/api-scrutiny/index.html">1.6.2</a>
        </li>
        <li class="version">
          <a href="../../1.6.1/api-scrutiny/index.html">1.6.1</a>
        </li>
        <li class="version">
          <a href="../../1.6.0/api-scrutiny/index.html">1.6.0</a>
        </li>
        <li class="version">
          <a href="../../1.5.0/api-scrutiny/index.html">1.5.0</a>
        </li>
        <li class="version">
          <a href="../../1.4.1/api-scrutiny/index.html">1.4.1</a>
        </li>
        <li class="version">
          <a href="../../1.4/api-scrutiny/index.html">1.4</a>
        </li>
        <li class="version">
          <a href="../../1.3/api-scrutiny/index.html">1.3</a>
        </li>
        <li class="version">
          <a href="../../1.2/api-scrutiny/index.html">1.2</a>
        </li>
        <li class="version">
          <a href="../../1.1/api-scrutiny/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../1.0/api-scrutiny/index.html">1.0</a>
        </li>
        <li class="version">
          <a href="../../0.7/api/index.html">0.7</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Dokumentation</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ROOT/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../ROOT/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">API</a></li>
    <li><a href="index.html">Turnierprogramme</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2.0.0-wip</button>
  <div class="version-menu">
    <a class="version is-current" href="index.html">2.0.0-wip</a>
    <a class="version" href="../../1.6.2/api-scrutiny/index.html">1.6.2</a>
    <a class="version" href="../../1.6.1/api-scrutiny/index.html">1.6.1</a>
    <a class="version" href="../../1.6.0/api-scrutiny/index.html">1.6.0</a>
    <a class="version" href="../../1.5.0/api-scrutiny/index.html">1.5.0</a>
    <a class="version" href="../../1.4.1/api-scrutiny/index.html">1.4.1</a>
    <a class="version" href="../../1.4/api-scrutiny/index.html">1.4</a>
    <a class="version" href="../../1.3/api-scrutiny/index.html">1.3</a>
    <a class="version" href="../../1.2/api-scrutiny/index.html">1.2</a>
    <a class="version" href="../../1.1/api-scrutiny/index.html">1.1</a>
    <a class="version" href="../../1.0/api-scrutiny/index.html">1.0</a>
    <a class="version is-missing" href="../../0.7/api/index.html">0.7</a>
  </div>
</div>
  <div class="edit-this-page"><a href="file:///Users/hendrik/Workspace/DTV/esv-schnittstellen-adoc/doc/modules/api-scrutiny/pages/index.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Schnittstellen Turnierprogramme</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Die Version 2.0.0 ist noch nicht final.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_einleitung"><a class="anchor" href="#_einleitung"></a>Einleitung</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_änderungshistorie"><a class="anchor" href="#_änderungshistorie"></a>Änderungshistorie</h3>
<div class="paragraph">
<p><strong>xx.xx.xxxx / Version 2.0.0</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hinweise zu Content-Negotiation, Schnittstellen-Level 2 und
JSON-Schemas</p>
</li>
<li>
<p>Funktionäre/Lizenzträger (Einzelaufruf und Gesamtliste): das Jahr als
optionalen URL-Parameter zugefügt</p>
</li>
<li>
<p>Funktionäre/Lizenzträger (Gesamtliste): Gesamtliste liefert auch Namen
zurück</p>
</li>
<li>
<p>Wertungsrichterzettel (digital): Objekt wr ergänzt</p>
</li>
<li>
<p>Ergebnis: Kürzel für Wertungsrichter, Turnierleiter, Beisitzer und
Chairpersonen</p>
</li>
<li>
<p>Ergebnis: Eigenschaften Startgruppe, Startklasse und Wettbewerbsart
für den Starter zur Prüfung von Ergebnissen, die nach Anhang 5 berechnet
wurden.</p>
</li>
<li>
<p>Ergebnis: Header X-DTV-Pruefsumme entfernt und Flag endergebnis
hinzugefügt.</p>
</li>
<li>
<p>Startliste: Flag für Startaufstellung in Startlisten (Gruppen und Formationen) ergänzt.</p>
</li>
<li>
<p>Ergebnis: Erweiterung Rundenablauf um Rundentyp Stichrunde (für Stich-
und Relegationsrunden bei Gruppen- oder Formationswettbewerben) sowie
neues Feld für Stichrundentabellen</p>
</li>
<li>
<p>Startliste Wettbewerbsart: Enthält jetzt immer alle Namen.</p>
</li>
<li>
<p>Schlüsselverzeichnis: neue Turnierformen RT und AT</p>
</li>
<li>
<p>Schlüsselverzeichnis: neue Turnierart Jazz</p>
</li>
<li>
<p>Startliste: Trainer bei Gruppen und Formationen gestrichen</p>
</li>
<li>
<p>Startliste: Restriktionen für die Aufstellung bei Gruppen- und
Formationswettbewerben</p>
</li>
<li>
<p>Startliste: Klarstellung, dass Startbuchdaten für ausländische Starter
nur über den Einzelabruf, jedoch nicht in der Startliste für die
Veranstaltung und die Wettbewerbsart zurückgeliefert werden</p>
</li>
<li>
<p>Ergebnis: Startreihenfolge bei Gruppen- und Formationswettbewerben
St/Lat/JMD sowie Einzelwettbewerben JMD im Rundenablauf ergänzt</p>
</li>
<li>
<p>Ergebnis: Klarstellung zur Reihenfolge der Starter in den
Tabellen-Arrays</p>
</li>
<li>
<p>Klarstellung zu optionalen JSON-Eigenschaften</p>
</li>
<li>
<p>Veranstaltung: Korrektur der Schnittstellenbeschreibung Feld
„bemerkung“</p>
</li>
<li>
<p>Startliste: Startbuch immer gefüllt ab Schnittstellen-Level 2 auch bei
ausländischen Startern</p>
</li>
<li>
<p>Startliste: Feld Wettbewerbsart im Startbuch des Starters ergänzt</p>
</li>
<li>
<p>Ergebnis: Moderatoren und Protokollführer ergänzt</p>
</li>
<li>
<p>Schlüsselverzeichnis: Korrektur RSRLT in RS</p>
</li>
<li>
<p>Neuer Response Code 406</p>
</li>
<li>
<p>Schlüsselverzeichnis: neuer Tanz JAZZ</p>
</li>
<li>
<p>Klarstellung, das JS-Score für alle Varianten des Judging Systems
inkl. AJS gilt</p>
</li>
<li>
<p>Ergebnis: Kreuzvorgabe im Rundenablauf</p>
</li>
<li>
<p>Ergebnis: Klarstellung, welche Startgruppe für den Starter angegeben
werden soll</p>
</li>
<li>
<p>Ergebnis: Property„vd“ eines Starters ist kein Flag</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>19.05.2015 / Version 1.6.2</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>PDF-Upload: Details ergänzt</p>
</li>
<li>
<p>Gesamtstartliste: globales Feld [nachmeldungen] und Feld
[startmeldungen] je Starter sind leere Arrays</p>
</li>
<li>
<p>API-Responses im Anhang und bei schreibenden Zugriffen ergänzt</p>
</li>
<li>
<p>Dokumentstruktur und –formatierung überarbeitet</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>07.05.2015 / Version 1.6.1</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Zusatzinfo Ergebnisupload Verwarnungs/Disqualifikations-Flag</p>
</li>
<li>
<p>Schlüsselverzeichnis WR-Lizenzen: WR-B getrennt in WR-B-Std und
WR-B-Lat</p>
</li>
<li>
<p>Angabe, welche Felder in der Gesamtstartliste einer Wettbewerbsart
NULL sind</p>
</li>
<li>
<p>Ergebnisupload und digitale WR-Zettel: Vorgabe zur Verfahrensweise,
wenn Tänze in einer Runde nicht getanzt wurden</p>
</li>
<li>
<p>Digitaler WR-Zettel: Datentyp für Einzelkreuz ist gemischt (Float für
Wertung oder „L“ für Lift); Vorgabe zur Verfahrensweise, wenn die
Wertungsdaten nicht vollständig digital vorliegen; Feldname für
Unterschrift ergänzt</p>
</li>
<li>
<p>Skatingtabelle: Klarstellung zur Übermittlung, falls das Skatingsystem
nicht angewandt wurde</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>25.03.2015 / Version 1.6</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ergebnis-Interface ergänzt um Sterne-Info bei Startern</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>12.03.2015 / Version 1.5</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Startlistendownload: Flag Nachmeldeerlaubnis nun Array; Klarstellung
zu globalen Parametern in der Gesamtstarterliste je Wettbewerbsart</p>
</li>
<li>
<p>Ranglistenschnittstelle: Beispielaufruf ohne Stichtag ergänzt</p>
</li>
<li>
<p>Aufstiegstabelle: Feld Zielklasse ergänzt</p>
</li>
<li>
<p>Neue Schnittstelle: Ausgefallenes (einzelnes) Turnier</p>
</li>
<li>
<p>Leerzeichen und Punkte aus Konstanten im Schlüsselverzeichnis entfernt
(LTVs, Startgruppen, Startklassen, RL-IDs)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>03.03.2015 / Version 1.4.1</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Feldnamen JSON ergänzt (keine inhaltlichen Änderungen)</p>
</li>
<li>
<p>Abkürzungen für Tänze (gem. TSO) und Wettbewerbsarten korrigiert</p>
</li>
<li>
<p>Schnittstelle Aufstiegstabelle ergänzt (fehlte in dieser Version des
Dokumentes)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>13.02.2015 / Version 1.4</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alle GET/POST-Aufrufe auf vereinbarten Modus reduziert</p>
</li>
<li>
<p>Einzelstarteraufruf erweitert</p>
</li>
<li>
<p>Ergebnisupload um Clubdaten bereinigt</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>06.02.2015 / Version 1.3</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Veranstaltungsdownload: Flag entfernt</p>
</li>
<li>
<p>Startlistendownload: Startbuchdaten sind ein Array über alle
betroffenen Turnierarten</p>
</li>
<li>
<p>Startlistendownload: Startsperre-Flag eingefügt</p>
</li>
<li>
<p>Ranglistendownload um ein Feld erweitert</p>
</li>
<li>
<p>Ergebnisupload: Platz-Felder erweitert</p>
</li>
<li>
<p>Abkürzungen hinten angefügt</p>
</li>
<li>
<p>Fehlercodes vergeben</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>28.01.2015 / Version 1.2</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ergebnisupload, Punkt Startbuch&#8594;Ziel-Startklasse überarbeitet</p>
</li>
<li>
<p>Prüfsummenmechanismus ergänzt</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>21.01.2015 / Version 1.1</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ergebnisupload überarbeitet</p>
</li>
<li>
<p>Starterdownload überarbeitet</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>9.12.2014 / Version 1.0</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Turnierprogramme/Startlisten: Flag für Verwarnung Schrittbegrenzung
ist eine Eigenschaft der Turnierart; in Startbuchdaten je Turnierart
verschoben und mit Laufzettel-Flag in einem Objekt zusammengefasst</p>
</li>
<li>
<p>Startlisten: Nationalität bei einzelner Person hinzugefügt</p>
</li>
<li>
<p>Startlisten: Nachmeldung-Erlaubt-Flag hinzugefügt</p>
</li>
<li>
<p>Ergebnisupload: Ergänzung für Digitale Wertungsdaten und Hinweise zu
Upload Zwischenergebnisse</p>
</li>
<li>
<p>Interface für PDF-WR-Zettel-Upload</p>
</li>
<li>
<p>Flag im Veranstaltungsdatensatz für „Trotz kombiniertes Turnier nur
Gesamtplätze hochladen“</p>
</li>
<li>
<p>Dokumente gesplittet und Interfacereihenfolge überarbeitet</p>
</li>
<li>
<p>Anmerkungen zum Datenmodell erweitert</p>
</li>
<li>
<p>Veranstaltungsdaten: Veranstalter und Ausrichter der
Veranstaltungsebene hinzugefügt, Bemerkungstextfelder auf
Veranstaltungs- und Turnierebene hinzugefügt, Rückgabe der Liste bei
Verbandsanfragen: alle Turniere im Kalender, Wertungsrichter und
Funktionäre auf beiden Ebenen hinzugefügt</p>
</li>
<li>
<p>Funktionärsdaten: WDSF-MIN und alte Lizenznummer hinzugefügt</p>
</li>
<li>
<p>Ergebnis-Interface überarbeitet (Wertungstyp rundenweise hinzugefügt.
Wertungen, Wertungstabellen und Digitale Wertungen überarbeitet)</p>
</li>
<li>
<p>Digitale Wertungsrichterzettel JSON überarbeitet und Felder aus dem
eigentlichen Ergebnisdatensatz rausgenommen. Ist getrennt zu übertragen</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_datenmodell"><a class="anchor" href="#_datenmodell"></a>Datenmodell</h3>
<div class="ulist">
<ul>
<li>
<p>Veranstalter und Veranstalter-ID<br>
ist i.d.R. ein Verein, es kann aber auch ein LTV sein oder auch der
DTV. Es kann auch eine Veranstaltergemeinschaft sein (z.B. eine Gruppe
von Vereinen), für die im Datenmodell in einer geeigneten Entität ein
Eintrag vorhanden sein muss<br>
Jede Veranstaltung ist eindeutig einem Veranstalter zugeordnet.</p>
</li>
<li>
<p>Ausrichter und Ausrichter-ID<br>
ist der Verein oder der Verband (LTV bzw. DTV), der das Turnier
durchführt.<br>
Jedes Turnier ist eindeutig einem Ausrichter zugeordnet.</p>
</li>
<li>
<p>Veranstaltung<br>
sind alle Turniere, die ein Veranstalter für ein (auch verlängertes)
Wochenende angemeldet hat. Beispiele: GOC, Blaues Band der Spree, Hessen
tanzt, danceComp, Tanzen im Dreiländereck (Aachen). Es ist nötig,
Veranstaltungen als eigenständige Entität mit eigener ID zu erstellen.</p>
</li>
<li>
<p>Starter-ID (übergreifend über alle Tänzer der tänzerischen
Einheit/Paar/Gruppe etc.)<br>
wird innerhalb der ESV-Datenbank für die Verbindung mehrerer Tänzer zu
einem Starter vergeben. Im Live-Modus kann mit der Starter-ID der
Aufstiegsdaten-Status eines einzelnen Starters abgefragt werden, was
aber nur dann möglich sein soll, wenn der Starter für mindestens eines
der Turniere der Veranstaltung in der Startliste erscheint und damit die
Starter-ID dem Turnierprogramm bekannt ist.</p>
</li>
<li>
<p>Akademische Titel<br>
In der bisherigen DTV-Datenbank ist kein Feld für den Titel „Dr.“
vorhanden. Ein Titel wird bisher in das Feld des Vornamens eingetragen
(z.B. „Thomas Dr.“). In der ESV-Datenbank sollte ein separates Feld
dafür vorgesehen werden. Über die Stammdatenerfassung der Personen kann
jeder Beteiligte selbst entscheiden, ob er den Titel im Sportbetrieb
führen will.</p>
</li>
<li>
<p>User<br>
Über den User ist im ESV-System geregelt, welche Veranstaltungen er
überhaupt lesen und schreiben darf (z.B. Verein, LTV, etc.)</p>
</li>
<li>
<p>Kennschlüssel<br>
Jedes zertifizierte Turnierprogramm/jede externe Software soll einen
eindeutigen Kennschlüssel erhalten, woraus ersichtlich ist, dass es sich
um eine bestimmte zertifizierte/zugelassene Software handelt. Für jede
Einzelschnittstelle muss hinterlegt werden, ob mit dem jeweiligen
Schlüssel lesend, schreibend oder gar nicht auf die jeweils angefragte
Schnittstelle zugegriffen werden kann.</p>
</li>
<li>
<p>Optionale Datenfelder<br>
Optionale Datenfelder, die z.B. nur bei einzelnen Wettbewerbsarten
verwendet werden, müssen trotzdem im JSON-Objekt deklariert werden.
Einfache JSON-Datentypen und Objekte werden dann mit NULL belegt, Arrays
werden als leeres Array deklariert.
in 3-Buchstaben-Olympiccode, bei den Staaten ohne solchen: ISO-3-Code</p>
</li>
<li>
<p>User und Passwort<br>
Als User und Passwort werden die Vereinsportal-Zugangsdaten verwendet</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_ablauf"><a class="anchor" href="#_ablauf"></a>Ablauf</h3>
<div class="ulist">
<ul>
<li>
<p>Lesen der Startlisten<br>
Das Turnierprogramm wird zuerst die Liste der Veranstaltungsdaten (des
Users) lesen. In einem zweiten Schritt wird es dann die Informationen zu
den einzelnen Veranstaltungen lesen und in einem dritten Schritt die
Startlisten der einzelnen Veranstaltungen mit den einzelnen Turnieren.
Sobald eine Veranstaltung in der Liste der Veranstaltungen vorliegt,
können die Veranstaltungsdaten und die Startlisten beliebig oft gelesen
werden.<br>
Wird ein Turnierprogramm im Live-Modus betrieben, können die Daten der
Einzelstarter ebenfalls beliebig oft abgefragt werden.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kodierung"><a class="anchor" href="#_kodierung"></a>Kodierung</h3>
<div class="ulist">
<ul>
<li>
<p>Alle Datensätze werden als JSON-Konstrukt übertragen (Feldnamen in
eckigen Klammern)</p>
</li>
<li>
<p>Die JSON-Kodierung erfolgt streng nach Vorgaben aus RFC 4627</p>
<div class="ulist">
<ul>
<li>
<p>Strings können alle Unicode-Zeichen enthalten</p>
<div class="ulist">
<ul>
<li>
<p>Anführungszeichen, Backslash und Steuerzeichen (U+0000 bis U+001F)
müssen escaped werden</p>
</li>
<li>
<p>Die Unicode-Zeichen von U+0000 bis U+FFFF (Basic Multilingual Plane,
BMP) können, müssen jedoch nicht als 6 Zeichen lange hexadezimale
Unicode-Sequenz dargestellt werden (z.B. \u00fc). Alternativ Zeichen
direkt in UTF-8.</p>
</li>
<li>
<p>Die Unicode-Zeichen außerhalb des BMP werden als surrogate pair
dargestellt.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Alle JSON-Schnittstellen sollen transparente HTTP-Komprimierung
unterstützten (gzip, deflate via Accept-Encoding und Content-Encoding)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_content_negiotation_und_schnittstellen_level"><a class="anchor" href="#_content_negiotation_und_schnittstellen_level"></a>Content Negiotation und Schnittstellen-Level</h3>
<div class="ulist">
<ul>
<li>
<p>Mit Version 2.0.0 wird für alle Endpunkte ein Schnittstellen-Level
eingeführt. Da es sich nur um abwärtskompatible Ergänzungen der Struktur
handelt, die jedoch hohe inhaltliche Relevanz haben, gibt es keine neue
Endpunkt-URL.</p>
</li>
<li>
<p>Für alle Endpunkte gibt es ab Version 2.0.0 ein JSON-Schema
(json-schema.org, draft-06), das eine grundsätzliche Validierung der
JSON-Daten ermöglicht. Die Schema-Definitionen sind unter
<a href="https://tanzsport.github.io/esv-json-schema" class="bare">https://tanzsport.github.io/esv-json-schema</a> einsehbar. Dort kann auch
eine Online-Validierung erfolgen.</p>
</li>
<li>
<p>Der Schnittstellen-Level wird über Content Negotiation gesteuert.</p>
<div class="ulist">
<ul>
<li>
<p>Bei Lesezugriffen ab Schnittstellen-Level 2 (und ggf. weitere) ist
die Angabe eines erwarteten Media Types der Response über den
Accept-Header des HTTP Requests zwingend erforderlich.</p>
</li>
<li>
<p>Bei Schreibzugriffen ab Schnittstellen-Level 2 (und ggf. weitere) ist
die Angabe eines Media Types des Requests über den Content-Type des HTTP
Requests zwingend erforderlich.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Für den Schnittstellen-Level 1 ist die Verwendung des Accept- bzw.
Content-Type-Headers nicht erforderlich, um die Kompatibilität mit
bestehenden Programmversionen zu gewährleisten.</p>
</li>
<li>
<p>Alle neuen Versionen der Turnierprogramme müssen auf sämtlichen
Endpunkten auf die neuen Media Types umgestellt werden, und zwar auch
dann, wenn keine strukturellen Änderungen am Endpunkt erfolgt sind: Wenn
die Unterstützung für den Schnittstellen-Level 1 endet, bleiben so alle
Endpunkte in neueren Versionen funktionsfähig.</p>
</li>
<li>
<p>Die ESV wird auf für Responses auf Schnittstellen-Level 2 die
entsprechenden Media Types für die Response als Content-Type Header
verwenden.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_schnittstellen"><a class="anchor" href="#_schnittstellen"></a>Schnittstellen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_veranstaltungsdaten_lesend"><a class="anchor" href="#_veranstaltungsdaten_lesend"></a>Veranstaltungsdaten (lesend)</h3>
<div class="paragraph">
<p>Dieses Interface ist vorrangig für Turnierprogramme gedacht. Das
Rückgabeformat „Veranstaltung“ könnte aber auch für den
Tanzsport.de-Turnierkalender Verwendung finden. Deshalb werden mehr
Werte zurückgegeben als für die Turnierprogramme benötigt.</p>
</div>
<div class="sect3">
<h4 id="_liste"><a class="anchor" href="#_liste"></a>Liste</h4>
<div class="sect4">
<h5 id="_aufruf"><a class="anchor" href="#_aufruf"></a>Aufruf</h5>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.veranstaltungsliste.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.veranstaltungsliste.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/veranstaltungsliste.json" class="bare">http://schema.tanzsport.de/json/esv/v1/veranstaltungsliste.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/veranstaltungen HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_rückgabe"><a class="anchor" href="#_rückgabe"></a>Rückgabe</h5>
<div class="ulist">
<ul>
<li>
<p>Array Veranstaltungen (alle Veranstaltungen in den folgenden 2 Monaten
bei Vereinsanfrage/alle bei Landesanfrage, zu denen der User
Berechtigung hat)</p>
<div class="ulist">
<ul>
<li>
<p>Veranstaltungs-ID [id]</p>
</li>
<li>
<p>Datum Von [datumVon]</p>
</li>
<li>
<p>Datum Bis [datumBis]</p>
</li>
<li>
<p>Ort [ort]</p>
</li>
<li>
<p>Titel (optional) [titel]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Hinweis:</strong> Veranstaltungen mit Formations- oder JMD-Turnieren können nur
über den Schnittstellen-Level 2 abgefragt werden.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_einzelaufruf"><a class="anchor" href="#_einzelaufruf"></a>Einzelaufruf</h4>
<div class="sect4">
<h5 id="_aufruf_2"><a class="anchor" href="#_aufruf_2"></a>Aufruf</h5>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Veranstaltungs-ID</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.veranstaltung.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.veranstaltung.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/veranstaltung.json" class="bare">http://schema.tanzsport.de/json/esv/v1/veranstaltung.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/turniere/{veranstaltungsId} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_rückgabe_2"><a class="anchor" href="#_rückgabe_2"></a>Rückgabe</h5>
<div class="ulist">
<ul>
<li>
<p>Veranstaltung</p>
<div class="ulist">
<ul>
<li>
<p>Veranstaltungs-ID [id]</p>
</li>
<li>
<p>Datum Von [datumVon]</p>
</li>
<li>
<p>Datum Bis [datumBis]</p>
</li>
<li>
<p>Turnierstätte [turnierstaette]</p>
<div class="ulist">
<ul>
<li>
<p>Name [name]</p>
</li>
<li>
<p>Anschrift (Straße + Nr) [anschrift]</p>
</li>
<li>
<p>PLZ [plz]</p>
</li>
<li>
<p>Ort [ort]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Veranstalter [veranstalter]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
<li>
<p>LTV (optional) [ltv]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Ausrichter [ausrichter]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
<li>
<p>LTV (optional) [ltv]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Kontakt Telefon [kontaktTelefon]</p>
</li>
<li>
<p>Kontakt E-Mail [kontaktEmail]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Titel (optional) [titel]</p>
</li>
<li>
<p>Bemerkungen (Freitext, optional) [bemerkung] (Hinweis: Implementiert
von Beginn als Feld bemerkung – Korrektur in der Dokumentation ab
Version 2.0.0)</p>
</li>
<li>
<p>Array Wertungsrichter (optional) [wertungsrichter]</p>
<div class="ulist">
<ul>
<li>
<p>Inhalte wie bei Einzelaufruf Funktionäre (siehe unten)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Array Funktionäre (TL, BS, CHM, optional) [funktionaere]</p>
<div class="ulist">
<ul>
<li>
<p>Inhalte wie bei Einzelaufruf Funktionäre (siehe unten)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Array Flächen [flaechen]</p>
<div class="ulist">
<ul>
<li>
<p>Flächen-Bezeichnung (eindeutig innerh. der Veranstaltung) [id]</p>
</li>
<li>
<p>Typ (Text: z.B. Parkett, Kunststoff, Stein) [typ]</p>
</li>
<li>
<p>Länge (in Metern; Kommawert z.B. 10,5; Länge ≥ Breite) [laenge]</p>
</li>
<li>
<p>Breite (in Metern; Kommawert) [breite]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Array Turniere [turniere]</p>
<div class="ulist">
<ul>
<li>
<p>Turnier-ID [id]</p>
</li>
<li>
<p>Datum Von [datumVon]</p>
</li>
<li>
<p>Datum Bis [datumBis]</p>
</li>
<li>
<p>Startzeit Plan (Zeit, die im Tanzspiegel veröffentlicht wurde)</p>
</li>
<li>
<p>Startzeit Plan Korrigiert (kann, sofern vom Ausrichter verändert auch
im Terminkalender als veränderte Startzeit kenntlich dargestellt werden)</p>
</li>
<li>
<p>Titel (optional) [titel]</p>
</li>
<li>
<p>Veranstalter [veranstalter]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
<li>
<p>LTV (optional) [ltv]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Ausrichter [ausrichter]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
<li>
<p>LTV (optional) [ltv]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Flächen-ID [flaechenID]</p>
</li>
<li>
<p>Wettbewerbsart (z.B. Einzel, Formation, Solo, Duo,…) [wettbewerbsart]</p>
</li>
<li>
<p>Turnierform [turnierform]</p>
</li>
<li>
<p>Startgruppe [startgruppe]</p>
</li>
<li>
<p>Startklasse oder Startliga [startklasseLiga]</p>
</li>
<li>
<p>Turnierart [turnierart]</p>
</li>
<li>
<p>Zulassung (grenzt die zugelassenen Paare ein, z.B. DTV oder auf einen
oder mehrere LTV;) [zulassung]</p>
<div class="ulist">
<ul>
<li>
<p>Array; mögliche Werte: WDSF, EU, DTV + LTVs</p>
</li>
</ul>
</div>
</li>
<li>
<p>Wanderpokal: true/false [wanderpokal]</p>
</li>
<li>
<p>Turnierrang (numerisch) [turnierrang]</p>
</li>
<li>
<p>Flag Aufstiegsturnier (Vergabe von Aufstiegspunkten und
–platzierungen ja/nein) [aufstiegsturnier]</p>
</li>
<li>
<p>Ranglisten-ID (optional, bei Ranglistenturnieren und ggf. bei DM)</p>
</li>
<li>
<p>WDSF-Turnier-ID (optional) [wdsfTurnierId]</p>
</li>
<li>
<p>Startgebühr in EUR (optional, Zahlwert oder Freitext) [startgebuehr]</p>
</li>
<li>
<p>Bemerkungen (Freitext optional) [bemerkungen]</p>
</li>
<li>
<p>Array Wertungsrichter (optional) [wertungsrichter]</p>
<div class="ulist">
<ul>
<li>
<p>Personen-ID</p>
</li>
</ul>
</div>
</li>
<li>
<p>Turnierleiter Personen-ID (optional) [turnierleiter]</p>
</li>
<li>
<p>Beisitzer Personen-ID (optional) [beisitzer]</p>
</li>
<li>
<p>Chairman Personen-ID (optional) [chairman]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Hinweis:</strong> Veranstaltungen mit Formations- oder JMD-Turnieren können nur
über den Schnittstellen-Level 2 abgefragt werden.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_startlisten_lesend"><a class="anchor" href="#_startlisten_lesend"></a>Startlisten (lesend)</h3>
<div class="paragraph">
<p>Startlisten können für eine spezifische Veranstaltung oder als
Gesamtstartliste für eine Wettbewerbsart zur Offline-Verwendung
heruntergeladen werden. Die Gesamtstartliste einer enthält aus
Datenschutzgründen keine Namen der Personen (Feldwerte [titel],
[vorname], [nachname], [geschlecht] sind NULL).</p>
</div>
<div class="sect3">
<h4 id="_veranstaltung"><a class="anchor" href="#_veranstaltung"></a>Veranstaltung</h4>
<div class="sect4">
<h5 id="_aufruf_3"><a class="anchor" href="#_aufruf_3"></a>Aufruf</h5>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Veranstaltungs-ID (ggf. optional)</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.startliste.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.startliste.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/startliste-level1.json" class="bare">http://schema.tanzsport.de/json/esv/v1/startliste-level1.json</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/startliste-level2.json" class="bare">http://schema.tanzsport.de/json/esv/v1/startliste-level2.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/startliste/veranstaltung/{veranstaltungsId} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rückgabe_3"><a class="anchor" href="#_rückgabe_3"></a>Rückgabe</h4>
<div class="paragraph">
<p><strong>Global</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Status für Meldestand (0 = Turniermeldungen noch nicht gestartet, 1 =
Meldestand noch nicht final, 2 = Meldestand final) [status]; NULL in
Gesamt-Starterliste</p>
</li>
<li>
<p>Array Nachmeldungen möglich: Liste der Turnier-IDs mit
Nachmeldeerlaubnis [nachmeldungen]; leer in Gesamt-Starterliste</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Erläuterung:<br>
Turnierprogramme können die Startdaten ab dem Start der Turniermeldungen
herunterladen (z.Z. der 21. des Vorvormonats). Der finale Meldestand
inkl. der aktuellen Aufstiegsdaten kann frühestens am Tag vor dem
Turnier geladen werden – er wird im Status als solcher gekennzeichnet.</p>
</div>
<div class="paragraph">
<p><strong>Starterweise [starter]</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Starter-ID (ID des Starters [Paar, Solist, Duo, Formation, Gruppe])</p>
</li>
<li>
<p>Team (nur bei Formations-, Small-Group- und Mannschaftswettbewerben)</p>
<div class="ulist team">
<ul class="team">
<li>
<p>Team-Name (sofern vorhanden, z.B. bei Gruppen und Formationen) [name]</p>
</li>
<li>
<p>Team-Kapitän (sofern vorhanden, z.B. bei Gruppen und Formationen)</p>
</li>
<li>
<p>Trainer (sofern vorhanden, z.B. bei Gruppen und Formationen)
[trainer] – ab Level 2</p>
</li>
<li>
<p>Musiktitel (Bezeichnung der Choreographie/Titel des Tanzes)
[musikTitel] – ab Level 2</p>
</li>
</ul>
</div>
</li>
<li>
<p>Personen (Array, enthält bei Teamwettbewerben alle Tänzer inkl.
Ersatztänzer) [personen]:</p>
<div class="ulist">
<ul>
<li>
<p>Personen-ID (DTV-Nummer) [id]</p>
</li>
<li>
<p>Titel [titel]</p>
</li>
<li>
<p>Vorname [vorname]</p>
</li>
<li>
<p>Nachname [nachname]</p>
</li>
<li>
<p>Geschlecht [geschlecht]</p>
</li>
<li>
<p>WDSF-MIN (optional, sofern vorhanden) [wdsfMin]</p>
</li>
<li>
<p>Nationalität (3-Buchst.-Code) [nationalitaet]</p>
</li>
<li>
<p>Flag Startaufstellung [startaufstellung] (relevant nur bei Gruppen-
und Formationen) – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>alle mit true markierten Personen wurden vom Verein für die
Startaufstellung benannt, so dass angenommen werden kann, dass diese
tatsächlich zum Einsatz kommen</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Club (bei deutschen Paaren Pflicht, sonst optional) [club]</p>
<div class="ulist">
<ul>
<li>
<p>Club-ID [id]</p>
</li>
<li>
<p>Club-Name [name]</p>
</li>
<li>
<p>LTV (bei deutschen Paaren Pflicht, sonst optional) [ltv]</p>
<div class="ulist">
<ul>
<li>
<p>LTV-ID [id]</p>
</li>
<li>
<p>LTV-Name [name]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Staat (Staat, für den der Starter an den Start geht) [staat]</p>
</li>
<li>
<p>Meldungen (Array, leer bei Aufruf der Gesamt-Starterliste für eine
Wettbewerbsart) [meldungen]</p>
<div class="ulist">
<ul>
<li>
<p>Turnier-ID (nur die IDs der Turniere der aufgerufenen Veranstaltung)</p>
</li>
<li>
<p>Flag Meldung (Meldung = true, Abmeldung = false) [meldung]</p>
</li>
<li>
<p>Datum der Meldebestätigung (durch Verein) [bestaetigt]</p>
</li>
<li>
<p>Startnummer (optional – wird erst später für Ligaturniere relevant
sein wie JMD und Formation) [startNr]</p>
</li>
<li>
<p>Flag Startsperre (true/false) [startsperre]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Aufstellung (optional, nur Gruppen- und Formationswettbewerbe)
[aufstellung] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Minimal-Anzahl Aktive (Anzahl der Aktiven, die in einer Gruppe oder
Formation mindestens tanzen müssen) [min]</p>
<div class="ulist">
<ul>
<li>
<p>gilt bei JMD und Jazz für alle Aktiven (n Aktive)</p>
</li>
<li>
<p>gilt bei Formationen Standard/Latein jeweils für Herren und Damen
getrennt (n Herren, n Damen)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Maximal-Anzahl Aktive (Anzahl der Aktiven, die in einer Gruppe oder
Formation maxmimal tanzen dürfen) [max]</p>
<div class="ulist">
<ul>
<li>
<p>gilt bei JMD und Jazz für alle Aktiven (n Aktive)</p>
</li>
<li>
<p>gilt bei Formationen Standard/Latein jeweils für Herren und Damen
getrennt (n Herren, n Damen)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Ausland (Maximalanzahl der Aktiven ausländischer Nationalität, die in
einer Gruppe oder Formation tanzen dürfen) [ausland]</p>
<div class="ulist">
<ul>
<li>
<p>NULL, wenn keine Restriktionen vorliegen</p>
</li>
<li>
<p>Alle Personen einer Gruppe oder Formation mit Nationalität ungleich
GER sind ausländischer Nationalität</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Array Startbuch (Level 1: leer für alle ausländischen Starter in der
Startliste für die Veranstaltung und die Wettbewerbsart, gefüllt soweit
vorhanden bei Einzelabruf der Starterdaten [s.
Schnittstellendokumentation für externe Systeme]; Level 2: <strong>immer</strong>
gefüllt für alle Starter) [startbuch]</p>
<div class="ulist">
<ul>
<li>
<p>Wettbewerbsart [wettbewerbsart]</p>
</li>
<li>
<p>Turnierart [turnierart]</p>
</li>
<li>
<p>Startgruppe [startgruppe]</p>
</li>
<li>
<p>Ist-Startliga (nur Formationswettbewerbe St/Lat und JMD) [startliga]</p>
</li>
<li>
<p>Ist-Startklasse (z.B. BSW, D, C, B, A, S, PD) (nur Einzelwettbewerbe
St/Lat und JMD) [startklasse]</p>
</li>
<li>
<p>Ziel-Startklasse (z.B. C, B; NULL für
BSW/S/PD/ausländische-Paare/alle Doppelstartpaare, die nicht weiter
aufsteigen können, d.h. „kein Aufstieg möglich bei diesem Turnier für
dieses Paar“; nur Einzelwettbewerbe St/Lat, ggf. später
Einzelwettbewerbe JMD) [naechsteStartklasse]</p>
</li>
<li>
<p>Punkte (nur Einzelwettbewerbe St/Lat, ggf. später Einzelwettbewerbe
JMD) [punkte]</p>
<div class="ulist">
<ul>
<li>
<p>Ist [ist]</p>
</li>
<li>
<p>Ziel [ziel]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Platzierungen (nur bei Einzelwettbewerben St/Lat, ggf. später
Einzelwettbewerbe JMD) [platzierungen]</p>
<div class="ulist">
<ul>
<li>
<p>Ist [ist]</p>
</li>
<li>
<p>Ziel [ziel]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Regeln (nur Einzelwettbewerbe St/Lat, ggf. später Einzelwettbewerbe
JMD) [regeln]</p>
<div class="ulist">
<ul>
<li>
<p>Mindestpunkte [minPunkte]</p>
</li>
<li>
<p>Platzierung bis Platz (einschließlich) [platzierungBis]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Flags [flags]</p>
<div class="ulist">
<ul>
<li>
<p>Laufzetteldruck da Aufstiegschance am Wochenende (nur
Einzelwettbewerbe St/Lat, ggf. später Einzelwettbewerbe JMD)</p>
</li>
<li>
<p>Verwarnt wg. Figurenbegrenzung (nur Einzelwettbewerbe St/Lat)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_wettbewerbsart"><a class="anchor" href="#_wettbewerbsart"></a>Wettbewerbsart</h4>
<div class="sect4">
<h5 id="_aufruf_4"><a class="anchor" href="#_aufruf_4"></a>Aufruf</h5>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Wettbewerbsart</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/startliste/wettbewerbsart/{wettbewerbsart} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_rückgabe_4"><a class="anchor" href="#_rückgabe_4"></a>Rückgabe</h5>
<div class="paragraph">
<p>Wie Startliste für Veranstaltung. Das Feld [startmeldungen] je Starter
ist ein leeres Array. Die globalen Felder [status] und [nachmeldungen]
sind NULL bzw. leer.</p>
</div>
<div class="paragraph">
<p><strong>Hinweis:</strong> Startlisten für Gruppen- und Formationen können nur über
Schnittstellen-Level bezogen werden.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ranglisten_lesend"><a class="anchor" href="#_ranglisten_lesend"></a>Ranglisten (lesend)</h3>
<div class="sect3">
<h4 id="_aufruf_5"><a class="anchor" href="#_aufruf_5"></a>Aufruf</h4>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: RL-ID (Mehrfachnennung mit versch. IDs möglich)</p>
</li>
<li>
<p>URL-Parameter: Stichtag (ttmmjjjj, optional, ohne Angabe letzter
Stand)</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.ranglisten.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.ranglisten.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/ranglisten.json" class="bare">http://schema.tanzsport.de/json/esv/v1/ranglisten.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Ohne Stichtag</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/ranglisten/{ranglistenId1},{ranglistenId2},... HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Mit Stichtag</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/ranglisten/{stichtag}/{ranglistenId1},{ranglistenId2},... HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rückgabe_5"><a class="anchor" href="#_rückgabe_5"></a>Rückgabe</h4>
<div class="ulist">
<ul>
<li>
<p>Global-je-RL</p>
<div class="ulist">
<ul>
<li>
<p>RL-ID [id]</p>
</li>
<li>
<p>Stand (Datum der letzten Änderung) [stand]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Array Starter [starter]:</p>
<div class="ulist">
<ul>
<li>
<p>Starter-ID [id]</p>
</li>
<li>
<p>Rang [rang]</p>
<div class="ulist">
<ul>
<li>
<p>Rangliste [rl]</p>
</li>
<li>
<p>Platzierung der vorhergehenden DM [dm]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Array über alle Personen: (nicht bei Gruppen/Formationen, bei Paaren:
Herr-ID, Dame-ID,…) [personen]</p>
<div class="ulist">
<ul>
<li>
<p>Personen-ID [id]</p>
</li>
<li>
<p>Titel [titel]</p>
</li>
<li>
<p>Vorname [vorname]</p>
</li>
<li>
<p>Nachname [nachname]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Club [club]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
<li>
<p>LTV [ltv]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>RL-Punkte [punkte]</p>
</li>
<li>
<p>Anz. teilgenommene Turniere in der Saison (evtl. verwendbar für die
DM-Warnung in Std/Lat) [anzahlTurniere]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_funktionärelizenzträger_lesend"><a class="anchor" href="#_funktionärelizenzträger_lesend"></a>Funktionäre/Lizenzträger (lesend)</h3>
<div class="paragraph">
<p>Lizenzträger können im Einzelabruf oder als Gesamtliste geladen werden.
Die Gesamtliste muss im Turnierprogramm nach sieben Tagen gelöscht
werden. Danach muss sie ggf. erneut heruntergeladen werden.</p>
</div>
<div class="sect3">
<h4 id="_einzelaufruf_2"><a class="anchor" href="#_einzelaufruf_2"></a>Einzelaufruf</h4>
<div class="sect4">
<h5 id="_aufruf_6"><a class="anchor" href="#_aufruf_6"></a>Aufruf</h5>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Personen-ID</p>
</li>
<li>
<p>URL-Parameter: Jahr (JJJJ, optional, Standard ist das aktuelle Jahr)</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.funktionaer.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.funktionaer.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/funktionaer.json" class="bare">http://schema.tanzsport.de/json/esv/v1/funktionaer.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/funktionaer/{personenId}/{jahr} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_rückgabe_6"><a class="anchor" href="#_rückgabe_6"></a>Rückgabe</h5>
<div class="ulist">
<ul>
<li>
<p>Personen-ID [id]</p>
</li>
<li>
<p>WDSF-MIN (optional, sofern verfügbar) [wdsfMin]</p>
</li>
<li>
<p>alte Lizenznummer (optional) [lizenzNr]</p>
</li>
<li>
<p>Titel [titel]</p>
</li>
<li>
<p>Vorname [vorname]</p>
</li>
<li>
<p>Nachname [nachame]</p>
</li>
<li>
<p>Club [club]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
<li>
<p>LTV [ltv]</p>
<div class="ulist">
<ul>
<li>
<p>ID [id]</p>
</li>
<li>
<p>Name [name]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Staat [staat]</p>
</li>
<li>
<p>Array Lizenzen [lizenzen]</p>
<div class="ulist">
<ul>
<li>
<p>Lizenz-IDs (Auflistung aller gültigen Funktionärs-Lizenzen)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_gesamtliste"><a class="anchor" href="#_gesamtliste"></a>Gesamtliste</h4>
<div class="sect4">
<h5 id="_aufruf_7"><a class="anchor" href="#_aufruf_7"></a>Aufruf</h5>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Jahr (JJJJ, optional, Standard ist das aktuelle Jahr)</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.funktionaere.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.funktionaere.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/funktionaere.json" class="bare">http://schema.tanzsport.de/json/esv/v1/funktionaere.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/funktionaere/{jahr} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_rückgabe_7"><a class="anchor" href="#_rückgabe_7"></a>Rückgabe</h5>
<div class="ulist">
<ul>
<li>
<p>Array (Elemente wie Einzelaufruf)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_aufstiegstabellen_lesend"><a class="anchor" href="#_aufstiegstabellen_lesend"></a>Aufstiegstabellen (lesend)</h3>
<div class="paragraph">
<p>Z.Zt. nur für Wettbewerbsart Einzel</p>
</div>
<div class="paragraph">
<p>Existiert kein Eintrag in der Tabelle (Array Kriterien), ist kein
weiterer Aufstieg möglich.<br>
Die Tabelle enthält auch Felder für die Ist-Klasse BSW, für die
technisch der Aufstieg ermittelt werden muss, der jedoch erst nach
Umwandlung in ein vollwertiges Startbuch vollzogen werden kann.</p>
</div>
<div class="sect3">
<h4 id="_aufruf_8"><a class="anchor" href="#_aufruf_8"></a>Aufruf</h4>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: GET</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.aufstiegstabellen.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.aufstiegstabellen.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/aufstiegstabellen.json" class="bare">http://schema.tanzsport.de/json/esv/v1/aufstiegstabellen.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>GET /api/v1/aufstiegstabelle/{wettbewerbsart}/{jahr} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Accept: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rückgabe_8"><a class="anchor" href="#_rückgabe_8"></a>Rückgabe</h4>
<div class="ulist">
<ul>
<li>
<p>Array</p>
<div class="ulist">
<ul>
<li>
<p>Landesverbände (Array, Landesverbände, für die die Tabelle gültig
ist, z.Zt. alle) [ltv]</p>
</li>
<li>
<p>Mindest-Punkte (Mindest-Punkte, die zum Erreichen einer Platzierung
erforderlich sind) [minPunkte]</p>
</li>
<li>
<p>Tabellen (Array) [tabellen]</p>
<div class="ulist">
<ul>
<li>
<p>Startgruppen (Array) [startgruppen]</p>
</li>
<li>
<p>Turnierart [turnierart]</p>
</li>
<li>
<p>Kriterien (Array, aufsteigend sortiert nach Klasse) [kriterien]</p>
<div class="ulist">
<ul>
<li>
<p>Klasse (Ist-Klasse des Paares) [klasse]</p>
</li>
<li>
<p>Ziel-Klasse des Aufstiegs [zielklasse]. Bei Ist-Klasse, die keinen
Aufstieg ermöglichen wird NULL zurückgeliefert (z.B. BSW)</p>
</li>
<li>
<p>Punkte (erforderliche Punkte für Aufstieg) [punkte]</p>
</li>
<li>
<p>Plätze (erforderliche Plätze für Aufstieg) [plaetze]</p>
</li>
<li>
<p>Platzierung Bis Platz [bisPlatz]</p>
</li>
<li>
<p>Doppelstart: true/false, kennzeichnet Aufstiege in Startklassen,
die nur im Doppelstart genutzt werden können [doppelstart]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ergebnisse_schreibend"><a class="anchor" href="#_ergebnisse_schreibend"></a>Ergebnisse (schreibend)</h3>
<div class="paragraph">
<p>Die Ergebnisse eines Turniers können mehrfach hochgeladen werden, z.B.
im Live-Modus nach jeder Runde. Dabei können sich auch die Inhalte des
übergreifenden Berichtes verändern.</p>
</div>
<div class="paragraph">
<p>Erst nach Turnierende darf das Flag endergebnis im Ergebnisupload mit
dem Wert true übermittelt werden. Dies ist für das ESV-System das
Signal, das die Daten komplett sind (Turnier beendet). Danach können die
Ergebnisse noch weitere 4 Stunden für Korrekturen erneut hochgeladen
werden. Nach 4 Stunden lässt das ESV-System ein Hochladen nicht mehr zu.</p>
</div>
<div class="paragraph">
<p>Das Hochladen von Zwischenergebnissen (auch nur der reinen Startliste)
ist möglich. Solange das Turnier noch läuft sind Daten wie: Endzeit,
Ergebnis und Wertung (für noch nicht ausgeschiedene Starter) optional
und Rundenablauf nur teilvollständig. Das Starter-Array muss trotzdem
bei jedem Upload komplett (alle Starter inkl. abwesende) hochgeladen
werden. Jeder Upload überschreibt immer den vorherigen komplett.</p>
</div>
<div class="paragraph">
<p>Solange die Software-Token für den Schnittstellen-Level 1 noch aktiv
sind, muss das ESV-System den alten Header X-DTV-Pruefsumme weiter als
Flag für das Endergebnis interpretieren.</p>
</div>
<div class="sect3">
<h4 id="_aufruf_9"><a class="anchor" href="#_aufruf_9"></a>Aufruf</h4>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: POST</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Turnier-ID</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.ergebnis.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.ergebnis.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/ergebnis-level1.json" class="bare">http://schema.tanzsport.de/json/esv/v1/ergebnis-level1.json</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/ergebnis-level2.json" class="bare">http://schema.tanzsport.de/json/esv/v1/ergebnis-level2.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>POST /api/v1/ergebnis/{turnierId} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Content-Type: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_inhalt"><a class="anchor" href="#_inhalt"></a>Inhalt</h4>
<div class="paragraph">
<p><strong>Übergreifend Bericht</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flag Endergebnis (boolean) [endergebnis] – ab Level 2</p>
</li>
<li>
<p>Tänze (Array, max. 10 Tänze) [taenze]</p>
<div class="ulist">
<ul>
<li>
<p>gültige Werte: LW, TG, WW, SF, QU, SB, CC, RB, PD, JV, STD, LAT, JMD,
DF, SA, &#8230;&#8203;)</p>
</li>
</ul>
</div>
</li>
<li>
<p>WR (Array, WR des Turniers) [wr]</p>
<div class="ulist">
<ul>
<li>
<p>Buchstaben-Kürzel [kuerzel] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>muss eindeutig für das Turnier sein</p>
</li>
<li>
<p>max. drei alphanumerische Zeichen</p>
</li>
</ul>
</div>
</li>
<li>
<p>Personen-ID (für DTV-WR Pflicht, für Ersatz-WR optional, für
Ausländer NULL) [id]</p>
</li>
<li>
<p>Vorname [vorname]</p>
</li>
<li>
<p>Nachname [nachname]</p>
</li>
<li>
<p>Club [club]</p>
<div class="ulist">
<ul>
<li>
<p>Club-Name (optional für Ausländer) [name]</p>
</li>
<li>
<p>LTV-Name (für Ausländer NULL) [ltv]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Staat [staat]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Turnierleiter (Array, min. 1 Element) [tl]</p>
<div class="ulist">
<ul>
<li>
<p>Analog WR-Einzelement (ID Pflicht, Ausnahmen auf Veranstaltungsebene
konfiguriert)</p>
</li>
<li>
<p>In der ESV wird nur der erste Eintrag verarbeitet.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Beisitzer (Array, min. 1 Element) [bs]</p>
<div class="ulist">
<ul>
<li>
<p>Analog WR-Einzelement (ID Pflicht, Ausnahmen auf Veranstaltungsebene
konfiguriert)</p>
</li>
<li>
<p>In der ESV wird nur der erste Eintrag verarbeitet.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Chairman (optional) (Array) [ch]</p>
<div class="ulist">
<ul>
<li>
<p>Analog WR-Einzelement</p>
</li>
<li>
<p>In der ESV wird nur der erste Eintrag verarbeitet</p>
</li>
</ul>
</div>
</li>
<li>
<p>Moderatoren (optional) (Array) [moderatoren] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Analog WR-Einzelelement; ID-Angabe ist nicht verpflichtend.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Protokollführer (optional) (Array) [protokoll] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Analog WR-Einzelelement; ID-Angabe ist nicht verpflichtend.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Vorkommnisse (optional) [vorkommnisse]</p>
</li>
<li>
<p>Beginnzeit (ISO8601) [beginn]</p>
</li>
<li>
<p>Endzeit (ISO8601) [ende]</p>
</li>
<li>
<p>Arrays für Ablauf von normalen Runden [ablauf] und Stichrunden
[stichrunden] (NULL für Upload von nur-Startlisten)</p>
<div class="ulist">
<ul>
<li>
<p>Runde mit Schlüsselwerten 1, 1A, 1B, R, 2, 3, 4, 5, 6, 7, 8, 9, F,
FA, FB (Werte bis hier nur im Array [ablauf]), PSR, RSR (diese Werte nur
im Array [stichrunden])</p>
<div class="ulist">
<ul>
<li>
<p>Redance = R, bei 1.VR = 1A, bei 2.VR = 1B, bei Formations A-Finale =
FA, bei B-Finale = FB, Stichrunde bei Gruppen- und
Formationswettbewerben mit Auswirkung auf das Ergebnis = PSR,
Stichrunden bei Gruppen- und Formationswettbewerben ohne Auswirkung auf
das Ergebnis z.B. bei Relegation = RSR</p>
</li>
</ul>
</div>
</li>
<li>
<p>Wertungstyp [typ]</p>
<div class="ulist">
<ul>
<li>
<p>Kreuze {0..1} = K, Mannschaftspunkte {1..1,5..2..2,5..3} = M,
Finalplätze {1..x} = P, FormationswertungKreuze = FK,
FormationswertungPlätze = FP, JMD-WertungenKreuze = JK,
JMD-WertungenPlätze = JP, JudgingSystem alle Versionen inkl. AJS = JS</p>
</li>
</ul>
</div>
</li>
<li>
<p>Platz [platz] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Platz für den die Stichrunde durchgeführt wurde; NULL für alle
Rundentypen außer PSR und RSR) – Achtung, es gibt „echte“ Stichrunden
(PSR, mit Auswirkungen auf das Gesamtergebnis des Turniers z.B.
Stichrunden um Platz 1 bei DM oder Plätze bei Regionalmeisterschaften)
oder Relegationsrunden (RSR), bei denen das Gesamtergebnis des Turniers
nicht verändert wird (Austanzen der Relegation zwischen 1. und 2.
Bundesliga – nur JMD)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Array Startreihenfolge (nur Gruppen- und Formationswettbewerbe
St/Lat/JMD sowie Einzelwettbewerbe JMD; Startnummern der Starter in
Reihenfolge des Starts in der jeweiligen Runde) [startreihenfolge] – ab
Level 2</p>
</li>
<li>
<p>Kreuzvorgabe bei Wertungstypen K, FK, JK (sonst NULL) [kreuzvorgabe]
– ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Kreuzvorgabe von (Ganzzahl) [von]</p>
</li>
<li>
<p>Kreuzvorgabe bis (Ganzzahl) [bis]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>kombiniert mit Turnier-ID (optional) [kombiniertMit]</p>
</li>
<li>
<p>Zuschauerzahl [zuschauer]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>FK, FP, JK und JP Wertungen sind im normalen Ergebnisarray nur wie
Kreuzsummen und Finalwertungen enthalten. Im Digitalen-Wertungs-Array
sind auch die Punktewertungen als Punkte in den verschiedenen „Tänzen“
abgelegt.</p>
</div>
<div class="paragraph">
<p><strong>Zeilenweise Starter [starter]</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Starter-ID (Pflicht bei DTV- und Grenzverkehrs-Paaren, bei WDSF-Paaren
optional) [id]</p>
</li>
<li>
<p>Startnummer [startNr]</p>
</li>
<li>
<p>Personen (Array, enthält bei Teamwettbewerben alle Aktiven des
Starters, die tatsächlich getanzt haben)</p>
<div class="ulist">
<ul>
<li>
<p>Personen-ID (Pflicht bei DTV- und Grenzverkehrs-Paaren, bei
WDSF-Paaren optional) [id]</p>
</li>
<li>
<p>Vorname [vorname]</p>
</li>
<li>
<p>Nachname [nachname]</p>
</li>
<li>
<p>WDSF-MIN (optional, sofern vorliegend; bei WDSF-Paaren Pflicht) [wdsfMin]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Staat [staat]</p>
</li>
<li>
<p>Status (teilgenommen = 1, fehlt entschuldigt = 2, fehlt unentschuldigt
= 3) [status]</p>
</li>
<li>
<p>Meldungstyp (regulär = 1, Nachmeldung = 2, Nachmeldung, Sieger = 3,
Nachmeldung, Aufsteiger = 4) [meldungsTyp]</p>
</li>
<li>
<p>Anzahl Sterne (gesetzte Paare) [sterne]</p>
</li>
<li>
<p>Startgruppe (nur Einzelwettbewerbe Std/Lat und Gruppen- bzw.
Formationswettbewerbse; sonst null; gem. Schlüsselverzeichnis)
[startgruppe] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Hier muss der ursprüngliche in der Startliste verzeichnete Wert
angegeben werden – nicht die Startgruppe, die bei der Berechnung von
kombinierten Turnierergebnissen verwendet wurde (bei einem Jug-Starter
im kombinierten Hgr/Hgr II-Turnier also Jug, nicht Hgr)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Startklasse (nur Einzelwettbewerbe Std/Lat; sonst null; gem.
Schlüsselverzeichnis) [startklasse] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Hier muss die zum Zeitpunkt des Turniers gültige Startklasse des
Starters angegeben werden.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Wettbewerbsart (nur Einzelwettbewerbe JMD; sonst null; gem.
Schlüsselverzeichnis) [wettbewerbsart] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Hier muss die ursprüngliche in der Startliste verzeichnete
Wettbewerbsart angegeben werden.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Ergebnis (NULL bei Status 2 oder 3 oder beim Upload von
nur-Startliste) [ergebnis]</p>
<div class="ulist">
<ul>
<li>
<p>Platz-Gesamtergebnis Von [platzGesamtVon]</p>
</li>
<li>
<p>Platz-Gesamtergebnis Bis [platzGesamtBis]</p>
</li>
<li>
<p>Platz-Eigenes-Turnier Von (z.B. nach Anhang 5, NULL wenn nicht
benötigt) [platzTurnierVon]</p>
</li>
<li>
<p>Platz-Eigenes-Turnier Bis (z.B. nach Anhang 5, NULL wenn nicht
benötigt) [platzTurnierBis]</p>
</li>
<li>
<p>Punkte [punkte]</p>
</li>
<li>
<p>Platzierungen gesamt (zur Überprüfung in der DB, Adminalarm bei
Abweichung) [platzierungenGesamt]</p>
</li>
<li>
<p>Punkte gesamt (zur Überprüfung in der DB, Adminalarm bei Abweichung)</p>
</li>
<li>
<p>Aufstieg (0 = nein, 1 = ja, 2 = ja, durch Beschluss) [aufstieg]</p>
</li>
<li>
<p>Flag Laufzettel (Starter hat manuell bearbeitete Aufstiegdaten)</p>
</li>
<li>
<p>Verwarnung/Disqualifikation (0 = keine, 1 = Verwarnt
Schrittbegrenzung, 2 = Disqualifiziert Schrittbegrenzung, 3 =
gewöhnliche Disqualifikation) [vd]<br>
Das Verwarnungsflag darf nur &gt;0 gesetzt werden, wenn die Verwarnung oder
Disqualifikation innerhalb dieses Turnieres erfolgt ist. Dabei ist zu
beachten, dass es für Paare möglich ist, innerhalb eines Turnieres in
einer Runde erst verwarnt und in einer späteren Runde disqualifiziert zu
werden (in diesem Fall wird vd=2 übertragen).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Wertungen für Runden aus Rundenablauf (Array mit N = Anzahl Runden
Elementen; nicht getanzte Runden werden als NULL übertragen, Runden nach
Ausscheiden werden gar nicht übertragen; werden Tänze in der jeweiligen
Runde nicht getanzt, ist das jeweilige Wertungselement mit NULL
anzugeben; Stichrundenwertungen werden hier nicht angegeben!) [wertung]</p>
<div class="ulist">
<ul>
<li>
<p>Vorrundenwertung (nur Kreuz+Mannschaftspunkt-Wertungen)</p>
<div class="ulist">
<ul>
<li>
<p>Array WR</p>
<div class="ulist">
<ul>
<li>
<p>Array Tänze+1</p>
<div class="ulist">
<ul>
<li>
<p>Tänze 1-x: Float für Wertung (Einzelkreuze, sonst NULL, nicht
getanzte Tänze der Runde ebenfalls NULL)</p>
</li>
<li>
<p>Tänze+1: Float Summe<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Summe Wertungen über alle Tänze und alle WR</p>
</li>
</ul>
</div>
</li>
<li>
<p>JudgingSystem alle Versionen inkl. AJS: Summe Float</p>
</li>
<li>
<p>Endrundenwertung (nur Final-Platz-Wertungen, bei Mannschaft wird
Struktur der Vorrundenwertung verwendet)</p>
<div class="ulist">
<ul>
<li>
<p>Array Tänze</p>
<div class="ulist">
<ul>
<li>
<p>Array WR+2</p>
<div class="ulist">
<ul>
<li>
<p>WR1-x: Non-signed Byte für Wertung</p>
</li>
<li>
<p>WR+1: Platzziffer</p>
</li>
<li>
<p>WR+2: Platzziffer Summe</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Stichrundenwertung (nur eine möglich pro Starter, ansonsten NULL)
[stichrundenwertung] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>0-basierter Index der Stichrunde aus dem Stichrunden-Ablauf</p>
</li>
<li>
<p>erhaltene Wertungen [wertung]; Struktur wie Endrundenwertung in den
Wertungen der normalen Runden, d.h. Array von Arrays; da aktuell nur für
Formationen und Gruppen relevant enthält das äußere Array nur ein
inneres Array für den einzigen Tanz der Stichrunde</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Einmal</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Array Endrundentabellen (nur bei Platzwertungen P, FP, JP in
Reihenfolge aus Rundenablauf, vor Turnierende NULL) [endrundentabellen]</p>
<div class="ulist">
<ul>
<li>
<p>Array Tänze</p>
<div class="ulist">
<ul>
<li>
<p>Array über Endrundenstarter (in Reihenfolge der an der Runde
teilnehmenden Starter aus dem Starter-Array; Zeilen im heute gedruckten
Dokument)</p>
<div class="ulist">
<ul>
<li>
<p>Array über Plätze (Spalten im heute gedruckten Dokument)</p>
<div class="ulist">
<ul>
<li>
<p>„Tabellenzelle“ (solange in Ausrechnung benötigt; NULL wenn
Ausrechnung in früherer Spalte beendet)</p>
<div class="ulist">
<ul>
<li>
<p>Anzahl [anzahl]</p>
</li>
<li>
<p>Summe (optional, sonst NULL) [summe]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Array Skatingtabellen (nur bei Platzwertungen P in Reihenfolge aus
Rundenablauf, vor Turnierende leeres Array; sofern kein Skating in der
Runde angewandt ist das jeweilige Element NULL) [skatingtabellen]</p>
<div class="ulist">
<ul>
<li>
<p>Skating Regel 10 [regel10]</p>
<div class="ulist">
<ul>
<li>
<p>Array über Endrundenstarter (in Reihenfolge der an der Runde
teilnehmenden Starter aus dem Starter-Array)</p>
<div class="ulist">
<ul>
<li>
<p>Array über Plätze</p>
<div class="ulist">
<ul>
<li>
<p>„Tabellenzelle“ (wenn in Ausrechnung benötigt, sonst NULL)</p>
<div class="ulist">
<ul>
<li>
<p>Anzahl [anzahl]</p>
</li>
<li>
<p>Summe (optional, sonst NULL) [summe]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Platz (sofern in Regel 10 bestimmt, sonst NULL)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Skating Regel 11 (optional) [regel11]</p>
<div class="ulist">
<ul>
<li>
<p>Array über Endrundenstarter (in Reihenfolge der an der Runde
teilnehmenden Starter aus dem Starter-Array)</p>
<div class="ulist">
<ul>
<li>
<p>Array über Plätze</p>
<div class="ulist">
<ul>
<li>
<p>„Tabellenzelle“ (wenn in Ausrechnung benötigt, sonst NULL)</p>
<div class="ulist">
<ul>
<li>
<p>Anzahl [anzahl]</p>
</li>
<li>
<p>Summe (optional, sonst NULL) [summe]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Platz (sofern in Regel 11 bestimmt, sonst NULL)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Array Stichrundentabellen (ab Schnittstellen-Level 2; Reihenfolge aus Rundenablauf;
wenn keine Stichrunden durchgeführt wurden NULL) [stichrundentabellen]</p>
<div class="ulist">
<ul>
<li>
<p>Struktur der Einzelelemente wie bei Endrundentabellen</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Bei Startern eines anderen Staates, die keine Paar-ID bzw. Partner/in-ID
haben, sind nur die Namen eingetragen, evtl. der Clubname, aber auch der
Staat.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rückgabe_9"><a class="anchor" href="#_rückgabe_9"></a>Rückgabe</h4>
<div class="paragraph">
<p>Response-Objekt und HTTP-Ergebnis-Code</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ausgefallenes_turnier_schreibend"><a class="anchor" href="#_ausgefallenes_turnier_schreibend"></a>Ausgefallenes Turnier (schreibend)</h3>
<div class="paragraph">
<p>Dieser Aufruf ist immer ein Turnierabschluss und startet die
vier-Stunden-Frist zum Schließen des Turniers. Innerhalb der Frist muss
auch ein Upload von „echten“ Ergebnissen ersatzweise möglich sein.</p>
</div>
<div class="sect3">
<h4 id="_aufruf_10"><a class="anchor" href="#_aufruf_10"></a>Aufruf</h4>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: POST</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Turnier-ID</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.turnierausfall.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.turnierausfall.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/turnierausfall.json" class="bare">http://schema.tanzsport.de/json/esv/v1/turnierausfall.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>POST /api/v1/ausgefallen/{turnierId} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Content-Type: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_inhalt_2"><a class="anchor" href="#_inhalt_2"></a>Inhalt</h4>
<div class="ulist">
<ul>
<li>
<p>Vorkommnisse (optional) [vorkommnisse]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_rückgabe_10"><a class="anchor" href="#_rückgabe_10"></a>Rückgabe</h4>
<div class="paragraph">
<p>Response-Objekt und HTTP-Ergebnis-Code</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wertungsrichterzettel_pdf_schreibend"><a class="anchor" href="#_wertungsrichterzettel_pdf_schreibend"></a>Wertungsrichterzettel PDF (schreibend)</h3>
<div class="paragraph">
<p>Über diese Schnittstelle können eingescannte Wertungsrichterzettel als
PDF-Dateien hochgeladen werden.</p>
</div>
<div class="sect3">
<h4 id="_aufruf_11"><a class="anchor" href="#_aufruf_11"></a>Aufruf</h4>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: POST</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>Content-Type: multipart/form-data</p>
</li>
<li>
<p>URL-Parameter: Turnier-ID</p>
</li>
<li>
<p>Media-Types</p>
<div class="ulist">
<ul>
<li>
<p>keine</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>POST /api/v1/wrzettelpdf/{turnierId} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_inhalt_3"><a class="anchor" href="#_inhalt_3"></a>Inhalt</h4>
<div class="paragraph">
<p>Der Multipart-Request-Body enthält beliebig viele PDF-Dateien. Der Name
der Parts kann frei gewählt werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Content-Type: multipart/form-data; boundary=----Boundary
----Boundary
Content-Disposition: form-data; name="a"; filename="WRZettel1.pdf"
Content-Type: application/pdf

----Boundary
Content-Disposition: form-data; name="b"; filename="WRZettel2.pdf"
Content-Type: application/pdf</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rückgabe_11"><a class="anchor" href="#_rückgabe_11"></a>Rückgabe</h4>
<div class="paragraph">
<p>Response-Objekt und HTTP-Ergebnis-Code</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wertungsrichterzettel_digital_schreibend"><a class="anchor" href="#_wertungsrichterzettel_digital_schreibend"></a>Wertungsrichterzettel digital (schreibend)</h3>
<div class="paragraph">
<p>Über diese Schnittstelle können die Original-Daten der digitalen
Wertungsrichterzettel hochgeladen werden. Die Verwendung ist nur
zulässig, wenn tatsächlich digitale Wertungsgeräte zum Einsatz kommen.</p>
</div>
<div class="sect3">
<h4 id="_aufruf_12"><a class="anchor" href="#_aufruf_12"></a>Aufruf</h4>
<div class="ulist">
<ul>
<li>
<p>HTTP-Verb: POST</p>
</li>
<li>
<p>HTTP Header: User + Passwort (Basic Authentication)</p>
</li>
<li>
<p>HTTP Header: User-Agent (Software inkl. Version + Kennschlüssel)</p>
</li>
<li>
<p>URL-Parameter: Turnier-ID</p>
</li>
<li>
<p>URL-Parameter: Runde</p>
</li>
<li>
<p>Media Types</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p>*/*</p>
</li>
<li>
<p>application/json</p>
</li>
<li>
<p>application/vnd.tanzsport.esv.v1.wrzettel.l1+json</p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p>application/vnd.tanzsport.esv.v1.wrzettel.l2+json</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Schema-URI</p>
<div class="ulist">
<ul>
<li>
<p>Level 1</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/wrzettel-level1.json" class="bare">http://schema.tanzsport.de/json/esv/v1/wrzettel-level1.json</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Level 2</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://schema.tanzsport.de/json/esv/v1/wrzettel-level2.json" class="bare">http://schema.tanzsport.de/json/esv/v1/wrzettel-level2.json</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>POST /api/v1/wrzetteldigi/{turnierId}/{runde} HTTP/1.1
Authorization: Basic dXNlcjpwYXNzd29yZA==
User-Agent: Software/1.0; Token=abcdefghijklmnopqrstuvwxyz
Content-Type: &lt;gem. Schnittstellen-Level oder leer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_inhalt_4"><a class="anchor" href="#_inhalt_4"></a>Inhalt</h4>
<div class="paragraph">
<p>Bei Formations/JMD-Wertungen läuft das Wertungsarray immer über 5/4
virtuelle Tänze<br>
(Tanz 1-4/3: Wertungsgebiete Punkte 0-10, Tanz 5/4: Kreuz oder Platz).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Array über alle WR (in der Reihenfolge wie im Ergebnisupload; das
Element ist NULL, wenn die Wertungen nicht vollständig digital erfasst
wurden, z.B. wenn teilweise oder vollständig auf Papier gewertet wurde)</p>
<div class="ulist">
<ul>
<li>
<p>Wertungsrichter [wr] – ab Level 2</p>
<div class="ulist">
<ul>
<li>
<p>Personen-ID [id]</p>
</li>
<li>
<p>Vorname [vorname]</p>
</li>
<li>
<p>Nachname [nachname]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Kreuzvorgabe von (bei Finale NULL) [kreuzvorgabeVon]</p>
</li>
<li>
<p>Kreuzvorgabe bis (bei Finale NULL) [kreuzvorgabeBis]</p>
</li>
<li>
<p>Array über Starter [starter]</p>
<div class="ulist">
<ul>
<li>
<p>Startnummer [startNr]</p>
</li>
<li>
<p>Array über Tänze (bzw. Wertungsgebiete bei Formation oder JMD)</p>
<div class="ulist wertungen">
<ul class="wertungen">
<li>
<p>Wertung (Float oder „L“ für Lift, NULL, falls dieser Tanz in der
Runde nicht getanzt wurde)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Float Summe Wertung (NULL bei Platzwertung) [summe]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Unterschrift (Base64-kodiertes PNG-Bild 1bit, max. 400*200 Pixel)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_rückgabe_12"><a class="anchor" href="#_rückgabe_12"></a>Rückgabe</h4>
<div class="paragraph">
<p>Response-Objekt und HTTP-Ergebnis-Code</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anhang"><a class="anchor" href="#_anhang"></a>Anhang</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_schlüsselverzeichnis"><a class="anchor" href="#_schlüsselverzeichnis"></a>Schlüsselverzeichnis</h3>
<div class="sect3">
<h4 id="_ltvs"><a class="anchor" href="#_ltvs"></a>LTVs</h4>
<div class="paragraph">
<p>HATV, HTV, LTVBerlin, LTVBr, LTVBremen, LTVB, LTVS, NTV, SLT, TBW, TMV,
TNW, TRP, TSH, TTSV, LTVSA</p>
</div>
</div>
<div class="sect3">
<h4 id="_wettbewerbsarten"><a class="anchor" href="#_wettbewerbsarten"></a>Wettbewerbsarten</h4>
<div class="paragraph">
<p>Einzel, FormationStdLat, Mannschaft, Solo, SoloMaennlich, SoloWeiblich,
Duo, SmallGroup, FormationJMD</p>
</div>
</div>
<div class="sect3">
<h4 id="_turnierformen"><a class="anchor" href="#_turnierformen"></a>Turnierformen</h4>
<div class="paragraph">
<p>DM (Deutsche Meisterschaft), DP (Deutschlandpokal), DC (Deutschlandcup),
RLT (Rangliste),<br>
RS (Rising Star Rangliste), GM (Gebietsmeisterschaft), LM
(Landesmeisterschaft), OT (Offenes Turnier), ET (Einladungsturnier), IET
(Int. Einladungsturnier), IM (Int. Meisterschaft), IT (Int. Turnier),
PDT (PD Trophy), LT (Ligaturnier), IMK (Int. Länderkampf Mannschaft), MK
(Mannschaftskampf),<br>
RM (Regionalmeisterschaft JMD), RT (Relegationsturnier; nur-technische
Turnierform für Relegationsturniere), AT (Aufstiegsturnier;
nur-technische Turnierform für Aufstiegsturniere)</p>
</div>
</div>
<div class="sect3">
<h4 id="_startgruppen"><a class="anchor" href="#_startgruppen"></a>Startgruppen</h4>
<div class="paragraph">
<p>KinI, KinII, Kin, JunI, JunII, Jug, Hgr, HgrII, SenI, SenII, SenIII,
SenIV, U21, MCI, MCII</p>
</div>
<div class="paragraph">
<p>Ggf. Kombinationen aus diesen Abkürzungen (z.B. Jug/Hgr, SenI/II)</p>
</div>
</div>
<div class="sect3">
<h4 id="_startklassen"><a class="anchor" href="#_startklassen"></a>Startklassen</h4>
<div class="paragraph">
<p>BSW, D, C, B, A, S, PD, 1BL, 2BL, RL, OL, LL, VL</p>
</div>
</div>
<div class="sect3">
<h4 id="_turnierarten"><a class="anchor" href="#_turnierarten"></a>Turnierarten</h4>
<div class="paragraph">
<p>Std, Lat, Kmb, JMD, SD-Std, SD-Lat, Jazz</p>
</div>
</div>
<div class="sect3">
<h4 id="_ranglisten_ids"><a class="anchor" href="#_ranglisten_ids"></a>Ranglisten-IDs</h4>
<div class="paragraph">
<p>JunII-Std, JunII-Lat, Jug-Std, Jug-Lat, Hgr-Std, Hgr-Lat, Hgr-RS-Std,
Hgr-RS-Lat, SenI-Std, SenII-Std, G55-Std, LS66-Std, Jug-SoloM-JMD,
Jug-SoloW-JMD, Jug-Duo-JMD, Jug-SG-JMD, Hgr-SoloM-JMD, Hgr-SoloW-JMD,
Hgr-Duo-JMD, Hgr-SG-JMD</p>
</div>
</div>
<div class="sect3">
<h4 id="_lizenztypen"><a class="anchor" href="#_lizenztypen"></a>Lizenztypen</h4>
<div class="sect4">
<h5 id="_turnierleiter"><a class="anchor" href="#_turnierleiter"></a>Turnierleiter</h5>
<div class="paragraph">
<p>TL, TL-JMD</p>
</div>
</div>
<div class="sect4">
<h5 id="_wr_einzel"><a class="anchor" href="#_wr_einzel"></a>WR-Einzel</h5>
<div class="paragraph">
<p>WR-D (alle aktiven C-Tänzer mit WR-C), WR-C, WR-B-Std, WR-B-Lat,
WR-A-Std, WR-A-Lat, WR-S-Std, WR-S-Lat, WR-S-RL-Std, WR-S-RL-Lat,
WR-S-DM-Std, WR-S-DM-Lat</p>
</div>
<div class="paragraph">
<p>Bemerkung: Bei Angabe von WR-D sollen keine höheren, weiteren
Lizenzwerte übertragen werden.</p>
</div>
</div>
<div class="sect4">
<h5 id="_wr_formation_stdlat"><a class="anchor" href="#_wr_formation_stdlat"></a>WR-Formation Std/Lat</h5>
<div class="paragraph">
<p>WR-F1, WR-F2, WR-F-BL, WR-F-DM,</p>
</div>
</div>
<div class="sect4">
<h5 id="_wr_jmd"><a class="anchor" href="#_wr_jmd"></a>WR-JMD</h5>
<div class="paragraph">
<p>WR-J1, WR-J2, WR-J1-DM, WR-J2-DM</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tänze"><a class="anchor" href="#_tänze"></a>Tänze</h4>
<div class="paragraph">
<p>LW, TG, WW, SF, QU, SB, CC, RB, PD, JV, STD, LAT, JMD, JAZZ, DF, SA
(Salsa)</p>
</div>
</div>
<div class="sect3">
<h4 id="_runden"><a class="anchor" href="#_runden"></a>Runden</h4>
<div class="paragraph">
<p>1, 1A, 1B, R, 2, 3, 4, 5, 6, 7, 8, 9, F, FA, FB, PSR, RSR<br>
(Redance=R, bei 1.VR=1A, bei 2.VR=1B, bei Formations A-Finale=FA, bei
B-Finale=FB, Stichrunde bei Gruppen- und Formationswettbewerben mit
Ergebnisrelevanz = PSR, Stichrunde bei Gruppen- und
Formationswettbewerben ohne Ergebnisrelevanz nur für Relegation = RSR)</p>
</div>
</div>
<div class="sect3">
<h4 id="_wertungstyp"><a class="anchor" href="#_wertungstyp"></a>Wertungstyp</h4>
<div class="paragraph">
<p>K (Kreuze), M (Mannschaftspunkte{1..1,5..2..2,5..3}), P
(Finalplätze{1..x}),<br>
FK (FormationswertungKreuze), FP (FormationswertungPlätze), JK
(JMD-WertungenKreuze),<br>
JP (JMD-WertungenPlätze), JS (JudgingSystem alle Versionen inkl. AJS)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ergebniscodes"><a class="anchor" href="#_ergebniscodes"></a>Ergebniscodes</h3>
<div class="ulist">
<ul>
<li>
<p>200 OK</p>
</li>
<li>
<p>403 Login inkorrekt</p>
</li>
<li>
<p>400 Datenkonstrukt ungültig (Bad request)</p>
</li>
<li>
<p>404 Ressource existiert nicht (Ergebnis, Funktionär, Starter etc.)</p>
</li>
<li>
<p>405 Ergebnisupload erst mit Turnierbeginn möglich</p>
</li>
<li>
<p>406 Media-Type wird nicht unterstützt</p>
</li>
<li>
<p>415 Neuere Version des Turnierprogramms erforderlich</p>
</li>
<li>
<p>601 Token abgelehnt</p>
</li>
<li>
<p>602 Veranstaltung bereits hochgeladen und Datensatz geschlossen</p>
</li>
<li>
<p>603 Ergebnisupload nach Frist, Turnier wird der nächsten Woche
zugerechnet</p>
</li>
<li>
<p>604 Ergebnisdatensatz unvollständig (Fehlerdetails im response body)</p>
</li>
<li>
<p>605 Starter nicht startberechtigt in angefragter Turnierart</p>
</li>
<li>
<p>606 Datenempfang unvollständig</p>
</li>
<li>
<p>610 Zugriff zur Sandbox abgelehnt, Turnier-ID des Arbeitssystems
verwendet</p>
</li>
<li>
<p>Ergebniscodes für Meldeeingänge (z.B. OK, nicht erlaubt, abgelehnt da
Doppelmeldung…)</p>
</li>
<li>
<p>Ergebniscodes für Meldebestätigungen (noch offen, bestätigt,
abgelehnt)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_api_responses"><a class="anchor" href="#_api_responses"></a>API-Responses</h3>
<div class="paragraph">
<p>Schreibzugriffe auf die API liefern ein allgemeines Response-Objekt als
JSON zurück:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fehlercode (korrespondiert mit HTTP-Ergebnis-Code) [code]</p>
</li>
<li>
<p>Fehlermeldung [fehler]</p>
</li>
<li>
<p>Detail (optional) [detail]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright (C) 2015-2020 <a href="https://tanzsport.de">Deutscher Tanzsportverband</a>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
